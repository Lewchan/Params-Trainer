{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\Little_Projects\\\\Param-Fitter\\\\frontend\\\\src\\\\pages\\\\Top_Training.tsx\",\n  _s = $RefreshSig$();\n/* ==================== Top_Training.tsx ==================== */\nimport React, { useState, useRef } from 'react';\nimport { Card, Upload, Button, message, Space } from 'antd';\nimport { UploadOutlined, DownloadOutlined } from '@ant-design/icons';\nimport axios from 'axios';\n\n/* -------------------- 组件主体 -------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Top_Training = () => {\n  _s();\n  /* Tag.json 状态 ------------------------------------------------ */\n  const [tagFileName, setTagFileName] = useState(null);\n  const [tagPath, setTagPath] = useState(null);\n  const [uploadingTag, setUploadingTag] = useState(false);\n  const tagFileRef = useRef(null); // ⭐ 保存 File 对象\n\n  /* Top 训练数据集状态 ------------------------------------------- */\n  const trainFileRef = useRef(null);\n  const [trainName, setTrainName] = useState(null);\n\n  /* 训练过程 ---------------------------------------------------- */\n  const [loading, setLoading] = useState(false);\n  const [topResult, setTopResult] = useState(null);\n\n  /* ---------- 上传 / 切换 Tag.json ---------- */\n  const uploadTag = async opt => {\n    const {\n      file,\n      onSuccess,\n      onError\n    } = opt;\n    setUploadingTag(true);\n    try {\n      const fd = new FormData();\n      fd.append('file', file, file.name);\n      const {\n        data\n      } = await axios.post('/api/upload-tag-json', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      tagFileRef.current = file;\n      setTagFileName(tagFileRef.current.name);\n      setTagPath(data.active_file || data.active);\n      message.success(`${file.name} 已设为当前 Tag`);\n      onSuccess && onSuccess({}, {});\n    } catch (err) {\n      var _err$response, _err$response$data;\n      message.error(`Tag 上传失败：${(err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || err.message}`);\n      onError && onError(err);\n    } finally {\n      setUploadingTag(false);\n    }\n  };\n\n  /* ---------- 本地文件下载助手 ---------- */\n  const downloadLocal = file => {\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = file.name;\n    a.style.display = 'none';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  /* ---------- 点击开始训练 ---------- */\n  const startTrain = async () => {\n    if (!tagPath) {\n      message.error('请先上传 Tag 文件');\n      return;\n    }\n    if (!trainFileRef.current) {\n      message.error('请上传训练数据集');\n      return;\n    }\n    setLoading(true);\n    try {\n      /* 自动识别编码读取训练数据 */\n      const buf = await trainFileRef.current.arrayBuffer();\n      let txt;\n      try {\n        txt = new TextDecoder('utf-8').decode(buf);\n        JSON.parse(txt);\n      } catch {\n        txt = new TextDecoder('utf-16le').decode(buf);\n      }\n      const jsonData = JSON.parse(txt); // {name, Top_Tags, input_x}\n\n      const fd = new FormData();\n      fd.append('data_json', JSON.stringify(jsonData));\n      fd.append('tag_path', tagPath);\n      const {\n        data\n      } = await axios.post('/api/train_top', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      message.success(data.message || '训练成功！');\n      setTopResult(data); // {name, Top_Tags, Top_Params}\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      message.error(`训练失败：${(err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || err.message}`);\n      setTopResult(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /* ---------- Upload 配置 ---------- */\n  const tagUploadProps = {\n    accept: '.json',\n    maxCount: 1,\n    customRequest: uploadTag,\n    onRemove: () => {\n      setTagFileName(null);\n      setTagPath(null);\n      tagFileRef.current = null;\n      return true;\n    },\n    fileList: tagFileName ? [{\n      uid: 'tag',\n      name: tagFileName,\n      status: 'done'\n    }] : []\n  };\n  const dataUploadProps = {\n    accept: '.json',\n    maxCount: 1,\n    customRequest: opt => {\n      const {\n        file,\n        onSuccess\n      } = opt;\n      trainFileRef.current = file;\n      setTrainName(file.name);\n      message.success(`${file.name} 已就绪，点击“开始训练”`);\n      onSuccess && onSuccess({}, {});\n    },\n    onRemove: () => {\n      trainFileRef.current = null;\n      setTrainName(null);\n      return true;\n    },\n    fileList: trainName ? [{\n      uid: 'data',\n      name: trainName,\n      status: 'done'\n    }] : []\n  };\n\n  /* ---------- JSX ---------- */\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Top \\u53C2\\u6570\\u8BAD\\u7EC3\",\n    children: [/*#__PURE__*/_jsxDEV(Upload, {\n      ...tagUploadProps,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 23\n        }, this),\n        loading: uploadingTag,\n        disabled: uploadingTag || !!tagFileName,\n        children: \"\\u4E0A\\u4F20 / \\u5207\\u6362 Tag \\u6587\\u4EF6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), tagFileName && /*#__PURE__*/_jsxDEV(Space, {\n      style: {\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u5F53\\u524D Tag: \", tagFileName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 38\n        }, this),\n        onClick: () => downloadLocal(tagFileRef.current),\n        children: \"\\u4E0B\\u8F7D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Upload, {\n      ...dataUploadProps,\n      style: {\n        marginTop: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }, this),\n        disabled: !!trainName,\n        children: \"\\u4E0A\\u4F20 Top \\u8BAD\\u7EC3\\u6570\\u636E\\u96C6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), trainName && /*#__PURE__*/_jsxDEV(Space, {\n      style: {\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u5DF2\\u9009\\u62E9\\u6570\\u636E\\u96C6: \", trainName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 38\n        }, this),\n        onClick: () => downloadLocal(trainFileRef.current),\n        children: \"\\u4E0B\\u8F7D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: startTrain,\n      loading: loading,\n      disabled: !trainName || !tagPath,\n      style: {\n        marginTop: 16\n      },\n      children: \"\\u5F00\\u59CB\\u8BAD\\u7EC3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), topResult && /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u8BAD\\u7EC3\\u7ED3\\u679C\",\n      style: {\n        marginTop: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Name :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 14\n        }, this), \" \", topResult.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Top_Tags :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 14\n        }, this), \" \", JSON.stringify(topResult.Top_Tags)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Top_Params :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 14\n        }, this), \" \", JSON.stringify(topResult.Top_Params)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(Top_Training, \"DJHFlbbmFTEinqoSk+dJW2CuKhw=\");\n_c = Top_Training;\nexport default Top_Training;\nvar _c;\n$RefreshReg$(_c, \"Top_Training\");","map":{"version":3,"names":["React","useState","useRef","Card","Upload","Button","message","Space","UploadOutlined","DownloadOutlined","axios","jsxDEV","_jsxDEV","Top_Training","_s","tagFileName","setTagFileName","tagPath","setTagPath","uploadingTag","setUploadingTag","tagFileRef","trainFileRef","trainName","setTrainName","loading","setLoading","topResult","setTopResult","uploadTag","opt","file","onSuccess","onError","fd","FormData","append","name","data","post","headers","current","active_file","active","success","err","_err$response","_err$response$data","error","response","detail","downloadLocal","url","URL","createObjectURL","a","document","createElement","href","download","style","display","body","appendChild","click","removeChild","revokeObjectURL","startTrain","buf","arrayBuffer","txt","TextDecoder","decode","JSON","parse","jsonData","stringify","_err$response2","_err$response2$data","tagUploadProps","accept","maxCount","customRequest","onRemove","fileList","uid","status","dataUploadProps","title","children","icon","fileName","_jsxFileName","lineNumber","columnNumber","disabled","marginTop","size","onClick","type","Top_Tags","Top_Params","_c","$RefreshReg$"],"sources":["D:/OneDrive/Little_Projects/Param-Fitter/frontend/src/pages/Top_Training.tsx"],"sourcesContent":["/* ==================== Top_Training.tsx ==================== */\r\nimport React, { useState, useRef } from 'react';\r\nimport { Card, Upload, Button, message, Space } from 'antd';\r\nimport { UploadOutlined, DownloadOutlined } from '@ant-design/icons';\r\nimport type { UploadProps, UploadFile } from 'antd';\r\nimport type { RcFile } from 'antd/es/upload';\r\nimport axios from 'axios';\r\n\r\n/* -------------------- 组件主体 -------------------- */\r\nconst Top_Training: React.FC = () => {\r\n  /* Tag.json 状态 ------------------------------------------------ */\r\n  const [tagFileName, setTagFileName] = useState<string | null>(null);\r\n  const [tagPath, setTagPath]         = useState<string | null>(null);\r\n  const [uploadingTag, setUploadingTag] = useState(false);\r\n  const tagFileRef = useRef<RcFile | null>(null);              // ⭐ 保存 File 对象\r\n\r\n  /* Top 训练数据集状态 ------------------------------------------- */\r\n  const trainFileRef = useRef<RcFile | null>(null);\r\n  const [trainName, setTrainName]     = useState<string | null>(null);\r\n\r\n  /* 训练过程 ---------------------------------------------------- */\r\n  const [loading, setLoading]         = useState(false);\r\n  const [topResult, setTopResult]     = useState<any>(null);\r\n\r\n  /* ---------- 上传 / 切换 Tag.json ---------- */\r\n  const uploadTag: UploadProps['customRequest'] = async (opt) => {\r\n    const { file, onSuccess, onError } = opt;\r\n    setUploadingTag(true);\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append('file', file as Blob, (file as any).name);\r\n\r\n      const { data } = await axios.post('/api/upload-tag-json', fd, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      tagFileRef.current = file as RcFile;\r\n      setTagFileName(tagFileRef.current.name);\r\n      setTagPath(data.active_file || data.active);\r\n      message.success(`${file.name} 已设为当前 Tag`);\r\n      onSuccess && onSuccess({}, {} as any);\r\n    } catch (err: any) {\r\n      message.error(`Tag 上传失败：${err?.response?.data?.detail || err.message}`);\r\n      onError && onError(err);\r\n    } finally {\r\n      setUploadingTag(false);\r\n    }\r\n  };\r\n\r\n  /* ---------- 本地文件下载助手 ---------- */\r\n  const downloadLocal = (file: RcFile | null) => {\r\n    if (!file) return;\r\n    const url = URL.createObjectURL(file);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = file.name;\r\n    a.style.display = 'none';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  /* ---------- 点击开始训练 ---------- */\r\n  const startTrain = async () => {\r\n    if (!tagPath) { message.error('请先上传 Tag 文件'); return; }\r\n    if (!trainFileRef.current) { message.error('请上传训练数据集'); return; }\r\n\r\n    setLoading(true);\r\n    try {\r\n      /* 自动识别编码读取训练数据 */\r\n      const buf = await trainFileRef.current.arrayBuffer();\r\n      let txt: string;\r\n      try { txt = new TextDecoder('utf-8').decode(buf); JSON.parse(txt); }\r\n      catch { txt = new TextDecoder('utf-16le').decode(buf); }\r\n      const jsonData = JSON.parse(txt);                        // {name, Top_Tags, input_x}\r\n\r\n      const fd = new FormData();\r\n      fd.append('data_json', JSON.stringify(jsonData));\r\n      fd.append('tag_path',  tagPath);\r\n\r\n      const { data } = await axios.post('/api/train_top', fd, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      message.success(data.message || '训练成功！');\r\n      setTopResult(data);                                      // {name, Top_Tags, Top_Params}\r\n    } catch (err: any) {\r\n      message.error(`训练失败：${err?.response?.data?.detail || err.message}`);\r\n      setTopResult(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /* ---------- Upload 配置 ---------- */\r\n  const tagUploadProps: UploadProps = {\r\n    accept: '.json',\r\n    maxCount: 1,\r\n    customRequest: uploadTag,\r\n    onRemove: () => { setTagFileName(null); setTagPath(null); tagFileRef.current = null; return true; },\r\n    fileList: tagFileName ? [{\r\n      uid: 'tag', name: tagFileName, status: 'done' as UploadFile['status'],\r\n    }] : [],\r\n  };\r\n\r\n  const dataUploadProps: UploadProps = {\r\n    accept: '.json',\r\n    maxCount: 1,\r\n    customRequest: (opt: any) => {\r\n      const { file, onSuccess } = opt;\r\n      trainFileRef.current = file as RcFile;\r\n      setTrainName((file as RcFile).name);\r\n      message.success(`${file.name} 已就绪，点击“开始训练”`);\r\n      onSuccess && onSuccess({}, {} as any);\r\n    },\r\n    onRemove: () => { trainFileRef.current = null; setTrainName(null); return true; },\r\n    fileList: trainName ? [{\r\n      uid: 'data', name: trainName, status: 'done' as UploadFile['status'],\r\n    }] : [],\r\n  };\r\n\r\n  /* ---------- JSX ---------- */\r\n  return (\r\n    <Card title=\"Top 参数训练\">\r\n      {/* Tag 上传区 */}\r\n      <Upload {...tagUploadProps}>\r\n        <Button icon={<UploadOutlined />} loading={uploadingTag}\r\n                disabled={uploadingTag || !!tagFileName}>\r\n          上传 / 切换 Tag 文件\r\n        </Button>\r\n      </Upload>\r\n\r\n      {/* Tag 文件信息 + 下载按钮 */}\r\n      {tagFileName && (\r\n        <Space style={{ marginTop: 8 }}>\r\n          <span>当前 Tag: {tagFileName}</span>\r\n          <Button size=\"small\" icon={<DownloadOutlined />}\r\n                  onClick={() => downloadLocal(tagFileRef.current)}>\r\n            下载\r\n          </Button>\r\n        </Space>\r\n      )}\r\n\r\n      {/* 训练数据集上传区 */}\r\n      <Upload {...dataUploadProps} style={{ marginTop: 16 }}>\r\n        <Button icon={<UploadOutlined />} disabled={!!trainName}>\r\n          上传 Top 训练数据集\r\n        </Button>\r\n      </Upload>\r\n\r\n      {/* 数据集信息 + 下载按钮 */}\r\n      {trainName && (\r\n        <Space style={{ marginTop: 8 }}>\r\n          <span>已选择数据集: {trainName}</span>\r\n          <Button size=\"small\" icon={<DownloadOutlined />}\r\n                  onClick={() => downloadLocal(trainFileRef.current)}>\r\n            下载\r\n          </Button>\r\n        </Space>\r\n      )}\r\n\r\n      {/* 开始训练 */}\r\n      <Button type=\"primary\"\r\n              onClick={startTrain}\r\n              loading={loading}\r\n              disabled={!trainName || !tagPath}\r\n              style={{ marginTop: 16 }}>\r\n        开始训练\r\n      </Button>\r\n\r\n      {/* 结果展示 */}\r\n      {topResult && (\r\n        <Card title=\"训练结果\" style={{ marginTop: 24 }}>\r\n          <p><b>Name :</b> {topResult.name}</p>\r\n          <p><b>Top_Tags :</b> {JSON.stringify(topResult.Top_Tags)}</p>\r\n          <p><b>Top_Params :</b> {JSON.stringify(topResult.Top_Params)}</p>\r\n        </Card>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Top_Training;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}